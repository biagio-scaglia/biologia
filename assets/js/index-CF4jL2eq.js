const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/index-DoEECd2r.js","assets/js/react-vendor-C0JOBjtt.js","assets/js/vendor-ZAsWb4D2.js","assets/js/Prevention-B-7l5769.js","assets/js/animation-vendor-tkGWbOrP.js","assets/css/Prevention-DpN-yRwM.css","assets/js/icons-vendor-AEYd5QDp.js","assets/css/index-CsQ19E1s.css","assets/js/index-DwVjwrtK.js","assets/js/Card-CyRnHXrI.js","assets/css/index-6LY902WM.css","assets/js/index-Fx_G5QPv.js","assets/css/index-YEH-Olr3.css","assets/js/index-D6c-lPTX.js","assets/css/index-DRRUwhER.css","assets/js/index-D6Y_WWUt.js","assets/css/index-CMak1xjU.css","assets/js/index-D9aai9BS.js","assets/css/index-DsTbIxZj.css","assets/js/index-CdERAEdu.js","assets/css/index-BbtG0KUF.css","assets/js/index-BDwo_Zvs.js","assets/css/index-Dp71JH2x.css"])))=>i.map(i=>d[i]);
import{r as d,R as g,j as e,u as y,L as v,B as L,a as T,b as w,N as R,c as k}from"./react-vendor-C0JOBjtt.js";import{H as O,C as A,a as P,M,b as D,B as $,L as z,c as B,P as j,d as E,e as V}from"./icons-vendor-AEYd5QDp.js";import{l as F,f as H}from"./vendor-ZAsWb4D2.js";import{m as U,A as q}from"./animation-vendor-tkGWbOrP.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const b={appName:"Istiocitosi a Cellule di Langerhans",defaultTheme:"light"};function W(o="id"){return`${o}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}const G={theme:b.defaultTheme,user:null,isLoading:!1,notifications:[]};function K(o,t){switch(t.type){case"SET_THEME":return{...o,theme:t.payload};case"SET_USER":return{...o,user:t.payload};case"ADD_NOTIFICATION":return{...o,notifications:[...o.notifications,t.payload]};case"REMOVE_NOTIFICATION":return{...o,notifications:o.notifications.filter(n=>n.id!==t.payload)};case"CLEAR_NOTIFICATIONS":return{...o,notifications:[]};case"SET_LOADING":return{...o,isLoading:t.payload};default:return o}}const _=d.createContext(void 0);function Q({children:o}){const[t,n]=d.useReducer(K,{...G,theme:"light"});g.useEffect(()=>{document.documentElement.setAttribute("data-theme","light")},[]);const p={...t,setTheme:m=>{},setUser:m=>{n({type:"SET_USER",payload:m})},addNotification:m=>{const u={...m,id:W("notification"),timestamp:Date.now()};n({type:"ADD_NOTIFICATION",payload:u}),setTimeout(()=>{n({type:"REMOVE_NOTIFICATION",payload:u.id})},5e3)},removeNotification:m=>{n({type:"REMOVE_NOTIFICATION",payload:m})},clearNotifications:()=>{n({type:"CLEAR_NOTIFICATIONS"})},setLoading:m=>{n({type:"SET_LOADING",payload:m})}};return e.jsx(_.Provider,{value:p,children:o})}function Y(){const o=d.useContext(_);if(o===void 0)throw new Error("useApp deve essere usato all'interno di AppProvider");return o}function J(o=!1){const[t,n]=d.useState(o),a=d.useCallback(()=>{n(s=>!s)},[]),r=d.useCallback(s=>{n(s)},[]);return[t,a,r]}function X(o){const[t,n]=d.useState(()=>typeof window<"u"?window.matchMedia(o).matches:!1);return d.useEffect(()=>{if(typeof window>"u")return;const a=window.matchMedia(o);n(a.matches);const r=s=>{n(s.matches)};return a.addEventListener?(a.addEventListener("change",r),()=>a.removeEventListener("change",r)):(a.addListener(r),()=>a.removeListener(r))},[o]),t}const Z=()=>{const o=y(),[t,n,a]=J(!1),r=X("(min-width: 768px)");d.useEffect(()=>{r&&a(!1)},[r,a]),d.useEffect(()=>{a(!1)},[o.pathname,a]),d.useEffect(()=>(t&&!r?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t,r]),d.useEffect(()=>{const i=c=>{c.key==="Escape"&&t&&a(!1)};if(t)return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},[t,a]);const s=[{to:"/",label:"Home",icon:O},{to:"/cells",label:"Cellule",icon:A},{to:"/symptoms",label:"Sintomi",icon:P},{to:"/diagnostics",label:"Diagnostica",icon:M},{to:"/treatments",label:"Trattamenti",icon:D},{to:"/statistics",label:"Statistiche",icon:$},{to:"/prevention",label:"Prevenzione",icon:z},{to:"/sources",label:"Fonti",icon:B}];return e.jsxs("header",{className:"header",children:[e.jsxs("div",{className:"header-container",children:[e.jsx(v,{to:"/",className:"header-logo",onClick:()=>a(!1),children:e.jsx("h1",{children:b.appName})}),e.jsxs("nav",{className:"header-nav","aria-label":"Main navigation",children:[s.map(i=>{const c=i.icon;return e.jsxs(v,{to:i.to,className:`header-nav-link ${o.pathname===i.to?"active":""}`,children:[e.jsx(c,{className:"header-nav-icon","aria-hidden":"true"}),e.jsx("span",{children:i.label})]},i.to)}),e.jsxs(v,{to:"/#chi-siamo",className:"header-nav-link header-about-link",onClick:()=>{if(o.pathname==="/"){const i=document.getElementById("chi-siamo");i&&i.scrollIntoView({behavior:"smooth"})}a(!1)},children:[e.jsx(j,{className:"header-nav-icon","aria-hidden":"true"}),e.jsx("span",{children:"Chi siamo"})]})]}),e.jsx("button",{className:`header-menu-toggle ${t?"is-open":""}`,onClick:n,"aria-label":t?"Chiudi menu":"Apri menu","aria-expanded":t,"aria-controls":"mobile-menu",children:t?e.jsx(E,{className:"header-menu-icon","aria-hidden":"true"}):e.jsx(V,{className:"header-menu-icon","aria-hidden":"true"})})]}),e.jsx("div",{className:`header-mobile-overlay ${t?"is-open":""}`,onClick:()=>a(!1),"aria-hidden":"true"}),e.jsxs("nav",{id:"mobile-menu",className:`header-mobile-nav ${t?"is-open":""}`,"aria-label":"Mobile navigation",children:[e.jsx("button",{className:"header-mobile-nav-close",onClick:()=>a(!1),"aria-label":"Chiudi menu",children:e.jsx(E,{className:"header-mobile-nav-close-icon","aria-hidden":"true"})}),e.jsxs("div",{className:"header-mobile-nav-content",children:[s.map((i,c)=>{const l=i.icon;return e.jsxs(v,{to:i.to,className:`header-mobile-nav-link ${o.pathname===i.to?"active":""}`,style:{"--delay":`${c*50}ms`},onClick:()=>a(!1),children:[e.jsx(l,{className:"header-mobile-nav-icon","aria-hidden":"true"}),e.jsx("span",{children:i.label})]},i.to)}),e.jsxs(v,{to:"/#chi-siamo",className:"header-mobile-nav-link",style:{"--delay":`${s.length*50}ms`},onClick:()=>{a(!1),o.pathname==="/"&&setTimeout(()=>{const i=document.getElementById("chi-siamo");i&&i.scrollIntoView({behavior:"smooth"})},300)},children:[e.jsx(j,{className:"header-mobile-nav-icon","aria-hidden":"true"}),e.jsx("span",{children:"Chi siamo"})]})]})]})]})},ee=()=>{const o=new Date().getFullYear();return e.jsx("footer",{className:"footer",children:e.jsxs("div",{className:"footer-container",children:[e.jsxs("p",{className:"footer-text",children:["Â© ",o," ",b.appName]}),e.jsx("p",{className:"footer-text footer-text--muted",children:"Guida educativa e informativa"})]})})},N=({variant:o="primary",size:t="md",isLoading:n=!1,fullWidth:a=!1,className:r="",disabled:s,children:i,...c})=>{const l="btn",p=`btn--${o}`,m=`btn--${t}`,S=[l,p,m,a?"btn--full-width":"",n?"btn--loading":"",s||n?"btn--disabled":"",r].filter(Boolean).join(" ");return e.jsxs("button",{className:S,disabled:s||n,...c,children:[n&&e.jsx("span",{className:"btn__spinner","aria-hidden":"true"}),e.jsx("span",{className:n?"btn__content--hidden":"btn__content",children:i})]})},te=g.forwardRef(({label:o,error:t,helperText:n,fullWidth:a=!1,className:r="",id:s,...i},c)=>{const l=s||`input-${Math.random().toString(36).substr(2,9)}`,p=!!t,m=["input",p&&"input--error",a&&"input--full-width",r].filter(Boolean).join(" ");return e.jsxs("div",{className:`input-wrapper ${a?"input-wrapper--full-width":""}`,children:[o&&e.jsxs("label",{htmlFor:l,className:"input-label",children:[o,i.required&&e.jsx("span",{className:"input-required",children:"*"})]}),e.jsx("input",{ref:c,id:l,className:m,"aria-invalid":p,"aria-describedby":t?`${l}-error`:n?`${l}-helper`:void 0,...i}),t&&e.jsx("span",{id:`${l}-error`,className:"input-error",role:"alert",children:t}),n&&!t&&e.jsx("span",{id:`${l}-helper`,className:"input-helper",children:n})]})});te.displayName="Input";const oe=()=>{const{notifications:o,removeNotification:t,clearNotifications:n}=Y();return o.length===0?null:e.jsxs("div",{className:"notifications",role:"region","aria-live":"polite","aria-label":"Notifiche",children:[o.length>1&&e.jsx("div",{className:"notifications-header",children:e.jsx(N,{variant:"ghost",size:"sm",onClick:n,className:"notifications-clear",children:"Chiudi tutte"})}),e.jsx("div",{className:"notifications-list",children:o.map(a=>e.jsxs("div",{className:`notification notification--${a.type}`,role:"alert",children:[e.jsxs("div",{className:"notification-content",children:[e.jsxs("span",{className:"notification-icon",children:[a.type==="success"&&"âœ“",a.type==="error"&&"âœ•",a.type==="warning"&&"âš ",a.type==="info"&&"â„¹"]}),e.jsx("span",{className:"notification-message",children:a.message})]}),e.jsx(N,{variant:"ghost",size:"sm",onClick:()=>t(a.id),className:"notification-close","aria-label":"Chiudi notifica",children:"Ã—"})]},a.id))})]})};class ne extends d.Component{state={hasError:!1,error:null};static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),console.error("Error stack:",t.stack),console.error("Error name:",t.name),console.error("Component stack:",n.componentStack)}handleClearStorage=()=>{try{["app-theme"].forEach(n=>{try{typeof window<"u"&&window.localStorage&&window.localStorage.removeItem(n)}catch{}}),window.location.reload()}catch(t){console.error("Errore nel pulire localStorage:",t),window.location.reload()}};render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const t=this.state.error?.message||"Si Ã¨ verificato un errore imprevisto",n=this.state.error?.name||"",a=t.toLowerCase().includes("string")||t.toLowerCase().includes("localstorage")||t.toLowerCase().includes("convert")||n.toLowerCase().includes("typeerror");return e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"2rem",textAlign:"center",backgroundColor:"var(--color-bg, #ffffff)",color:"var(--color-text, #1e293b)"},children:[e.jsx("h1",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"Oops! Qualcosa Ã¨ andato storto"}),e.jsxs("p",{style:{marginBottom:"0.5rem",color:"var(--color-text-muted, #64748b)"},children:[n&&e.jsxs("strong",{children:[n,": "]}),t]}),!1,a&&e.jsx("p",{style:{marginBottom:"2rem",color:"var(--color-warning, #f59e0b)",fontSize:"0.9rem",maxWidth:"500px"},children:"Sembra che ci sia un problema con i dati salvati. Prova a pulire i dati dell'app."}),e.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",justifyContent:"center"},children:[e.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null}),window.location.href="/"},style:{padding:"0.75rem 1.5rem",backgroundColor:"var(--color-primary, #2563eb)",color:"var(--color-primary-foreground, #ffffff)",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"1rem",fontWeight:500},children:"Ricarica la pagina"}),a&&e.jsx("button",{onClick:this.handleClearStorage,style:{padding:"0.75rem 1.5rem",backgroundColor:"var(--color-warning, #f59e0b)",color:"var(--color-warning-foreground, #ffffff)",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"1rem",fontWeight:500},children:"Pulisci dati e ricarica"})]})]})}return this.props.children}}const ae=({className:o="",intensity:t="medium"})=>{const n=d.useCallback(async s=>{await F(s)},[]),a=d.useMemo(()=>{switch(t){case"low":return 30;case"high":return 100;default:return 50}},[t]),r=d.useCallback(async()=>{},[]);return e.jsx("div",{className:`biology-background ${o}`,children:e.jsx(H,{id:"biology-particles",init:n,loaded:r,options:{background:{color:{value:"transparent"}},fpsLimit:60,interactivity:{events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!0,mode:"repulse"},resize:!0},modes:{push:{quantity:2},repulse:{distance:100,duration:.4}}},particles:{color:{value:["#2563eb","#0ea5e9","#06b6d4","#10b981"]},links:{color:"#2563eb",distance:150,enable:!0,opacity:.3,width:1},move:{direction:"none",enable:!0,outModes:{default:"bounce"},random:!1,speed:1,straight:!1},number:{density:{enable:!0,area:800},value:a},opacity:{value:.4,random:!0,animation:{enable:!0,speed:.5,minimumValue:.2,sync:!1}},shape:{type:["circle","triangle"]},size:{value:{min:2,max:5},random:!0,animation:{enable:!0,speed:2,minimumValue:1,sync:!1}}},detectRetina:!0}})})},re=({children:o,className:t=""})=>{const n=y();d.useEffect(()=>{window.scrollTo(0,0),window.matchMedia("(prefers-reduced-motion: reduce)").matches||setTimeout(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},10)},[n.pathname]);const r=window.matchMedia("(prefers-reduced-motion: reduce)").matches?{initial:!1,animate:!1,exit:void 0}:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:[.4,0,.2,1]}};return e.jsx(U.div,{...r,className:t,children:o},n.pathname)},ie="modulepreload",se=function(o){return"/biologia/"+o},I={},h=function(t,n,a){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=i?.nonce||i?.getAttribute("nonce");r=Promise.allSettled(n.map(l=>{if(l=se(l),l in I)return;I[l]=!0;const p=l.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${m}`))return;const u=document.createElement("link");if(u.rel=p?"stylesheet":ie,p||(u.as="script"),u.crossOrigin="",u.href=l,c&&u.setAttribute("nonce",c),document.head.appendChild(u),p)return new Promise((x,C)=>{u.addEventListener("load",x),u.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return r.then(i=>{for(const c of i||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})},f=(o,t)=>d.lazy(async()=>{try{const n=await o();if(n.default&&typeof n.default=="function")return n;const a=n[t];if(a&&typeof a=="function")return{default:a};throw new Error(`Component ${t} not found or invalid`)}catch(n){throw console.error(`Error loading lazy component ${t}:`,n),n}}),ce=f(()=>h(()=>import("./index-DoEECd2r.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])),"Home"),le=f(()=>h(()=>import("./index-DwVjwrtK.js"),__vite__mapDeps([8,1,2,9,3,4,5,6,10])),"Cells"),de=f(()=>h(()=>import("./index-Fx_G5QPv.js"),__vite__mapDeps([11,1,2,9,3,4,5,6,12])),"Symptoms"),me=f(()=>h(()=>import("./index-D6c-lPTX.js"),__vite__mapDeps([13,1,2,9,3,4,5,6,14])),"Diagnostics"),ue=f(()=>h(()=>import("./index-D6Y_WWUt.js"),__vite__mapDeps([15,1,2,9,3,4,5,6,16])),"Treatments"),pe=f(()=>h(()=>import("./index-D9aai9BS.js"),__vite__mapDeps([17,1,2,9,3,4,5,6,18])),"Statistics"),he=f(()=>h(()=>import("./index-CdERAEdu.js"),__vite__mapDeps([19,1,2,9,3,4,5,6,20])),"Prevention"),fe=f(()=>h(()=>import("./index-BDwo_Zvs.js"),__vite__mapDeps([21,1,2,9,6,4,22])),"Sources");typeof window<"u"&&"requestIdleCallback"in window&&requestIdleCallback(()=>{h(()=>import("./index-DoEECd2r.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])),h(()=>import("./index-DwVjwrtK.js"),__vite__mapDeps([8,1,2,9,3,4,5,6,10]))},{timeout:2e3});const ve=[{path:"/",name:"home",component:"Home",meta:{title:"Home - Istiocitosi a Cellule di Langerhans",icon:"ðŸ "}},{path:"/cells",name:"cells",component:"Cells",meta:{title:"Cellule e Mutazioni - ICL",icon:"ðŸ§¬"}},{path:"/symptoms",name:"symptoms",component:"Symptoms",meta:{title:"Sintomi e Organi Colpiti - ICL",icon:"ðŸ«"}},{path:"/diagnostics",name:"diagnostics",component:"Diagnostics",meta:{title:"Diagnostica - ICL",icon:"ðŸ”¬"}},{path:"/treatments",name:"treatments",component:"Treatments",meta:{title:"Trattamenti - ICL",icon:"ðŸ’Š"}},{path:"/statistics",name:"statistics",component:"Statistics",meta:{title:"Statistiche ed Epidemiologia - ICL",icon:"ðŸ“Š"}},{path:"/prevention",name:"prevention",component:"Prevention",meta:{title:"Prevenzione e Ricerca - ICL",icon:"ðŸ”¬"}},{path:"/sources",name:"sources",component:"Sources",meta:{title:"Fonti e Riferimenti - ICL",icon:"ðŸ“š"}}],ge={Home:ce,Cells:le,Symptoms:de,Diagnostics:me,Treatments:ue,Statistics:pe,Prevention:he,Sources:fe},ye=()=>e.jsxs("div",{className:"app-loading",children:[e.jsx("div",{className:"loading-spinner","aria-label":"Caricamento in corso",children:e.jsx("div",{className:"spinner"})}),e.jsx("p",{children:"Caricamento..."})]}),be=()=>{const o=y();return e.jsx(q,{mode:"wait",initial:!1,children:e.jsxs(T,{location:o,children:[ve.map(t=>{const n=ge[t.component];return n?e.jsx(w,{path:t.path,element:e.jsx(re,{children:e.jsx(n,{})})},t.path):(console.warn(`Componente ${t.component} non trovato`),null)}),e.jsx(w,{path:"*",element:e.jsx(R,{to:"/",replace:!0})})]},o.pathname)})},xe=()=>e.jsx(L,{basename:"/biologia/",children:e.jsxs("div",{className:"app",children:[e.jsx(ae,{intensity:"low"}),e.jsx(Z,{}),e.jsx("main",{className:"app-main",children:e.jsx(d.Suspense,{fallback:e.jsx(ye,{}),children:e.jsx(be,{})})}),e.jsx(ee,{}),e.jsx(oe,{})]})});function Ce(){return e.jsx(Q,{children:e.jsx(xe,{})})}try{if(typeof window<"u"&&window.localStorage)try{["app-theme"].forEach(t=>{try{window.localStorage.removeItem(t)}catch{}})}catch{}}catch{}try{const o=document.getElementById("root");if(!o)throw new Error("Root element not found");k.createRoot(o).render(e.jsx(g.StrictMode,{children:e.jsx(ne,{children:e.jsx(Ce,{})})}))}catch(o){console.error("Fatal error during app initialization:",o);const t=document.getElementById("root");t&&(t.innerHTML=`
      <div style="
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        padding: 2rem;
        text-align: center;
        background-color: #0f172a;
        color: #f1f5f9;
      ">
        <h1 style="font-size: 2rem; margin-bottom: 1rem;">Errore Critico</h1>
        <p style="margin-bottom: 2rem; color: #cbd5e1;">Impossibile inizializzare l'applicazione</p>
        <button 
          onclick="window.location.reload()"
          style="
            padding: 0.75rem 1.5rem;
            background-color: #2563eb;
            color: #ffffff;
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
          "
        >
          Ricarica la pagina
        </button>
      </div>
    `)}
